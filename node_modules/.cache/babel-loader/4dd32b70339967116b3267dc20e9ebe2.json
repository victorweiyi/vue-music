{"remainingRequest":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\babel-loader\\lib\\index.js!E:\\Vue\\vue进阶\\2\\player\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\Vue\\vue进阶\\2\\player\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Vue\\vue进阶\\2\\player\\src\\views\\03.songs.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Vue\\vue进阶\\2\\player\\src\\views\\03.songs.vue","mtime":1603682232812},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJzb25ncyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8v5q2M5puy5YiX6KGoCiAgICAgIGxpc3RzOiBbXSwKICAgICAgLy/liIbnsbvliIfmjaIKICAgICAgdGFnOiAiMCIKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdGFnOiBmdW5jdGlvbiB0YWcoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/ojrflj5bliJfooajmlbDmja4KICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvL+iOt+WPliDmnIDmlrDpn7PkuZDmlbDmja4KICAgICAgYXhpb3MoewogICAgICAgIHVybDogImh0dHBzOi8vYXV0dW1uZmlzaC5jbi90b3Avc29uZyIsCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAvL+S8oOmAkiDorr7nva7nmoTmlbDmja4KICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHR5cGU6IHRoaXMudGFnCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5saXN0cyA9IHJlcy5kYXRhLmRhdGE7IC8v5aSE55CG5pe26ZW/IOavq+enkiDovazkuLog5YiG56eSCgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMubGlzdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIC8v6I635Y+W5oC75q+r56eSCiAgICAgICAgICB2YXIgZHVyYXRpb24gPSBfdGhpcy5saXN0c1tpXS5kdXJhdGlvbjsKICAgICAgICAgIHZhciBtaW4gPSBwYXJzZUludChkdXJhdGlvbiAvIDEwMDAgLyA2MCk7CgogICAgICAgICAgaWYgKG1pbiA8IDEwKSB7CiAgICAgICAgICAgIG1pbiA9ICIwIiArIG1pbjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgc2VjID0gcGFyc2VJbnQoZHVyYXRpb24gLyAxMDAwICUgNjApOwoKICAgICAgICAgIGlmIChzZWMgPCAxMCkgewogICAgICAgICAgICBzZWMgPSAiMCIgKyBzZWM7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMubGlzdHNbaV0uZHVyYXRpb24gPSAiIi5jb25jYXQobWluLCAiOiIpLmNvbmNhdChzZWMpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5Y67bXbor6bmg4XpobUKICAgIHRvTVY6IGZ1bmN0aW9uIHRvTVYoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9tdj9xPSIuY29uY2F0KGlkKSk7CiAgICB9LAogICAgLy/mkq3mlL7mrYzmm7IKICAgIHBsYXlNdXNpYzogZnVuY3Rpb24gcGxheU11c2ljKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MoewogICAgICAgIHVybDogImh0dHBzOi8vYXV0dW1uZmlzaC5jbi9zb25nL3VybCIsCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIHVybCA9IHJlcy5kYXRhLmRhdGFbMF0udXJsOyAvL+ebtOaOpeiOt+WPlueItue7hOS7tu+8jOWPr+S7peS/ruaUueS7u+aEj+eahOWAvAoKICAgICAgICBfdGhpczIuJHBhcmVudC5tdXNpY1VybCA9IHVybDsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["03.songs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,KAAA,EAAA,EAFA;AAGA;AACA,MAAA,GAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,KAAA,EAAA;AACA,IAAA,GADA,iBACA;AACA,WAAA,OAAA;AACA;AAHA,GAVA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,OAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,OAFA,qBAEA;AAAA;;AACA;AACA,MAAA,KAAA,CAAA;AACA,QAAA,GAAA,EAAA,gCADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA;AADA;AAJA,OAAA,CAAA,CAOA,IAPA,CAOA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CADA,CAEA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,KAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA;AACA,cAAA,QAAA,GAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,QAAA;AACA,cAAA,GAAA,GAAA,QAAA,CAAA,QAAA,GAAA,IAAA,GAAA,EAAA,CAAA;;AACA,cAAA,GAAA,GAAA,EAAA,EAAA;AACA,YAAA,GAAA,GAAA,MAAA,GAAA;AACA;;AACA,cAAA,GAAA,GAAA,QAAA,CAAA,QAAA,GAAA,IAAA,GAAA,EAAA,CAAA;;AACA,cAAA,GAAA,GAAA,EAAA,EAAA;AACA,YAAA,GAAA,GAAA,MAAA,GAAA;AACA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,QAAA,aAAA,GAAA,cAAA,GAAA;AACA;AACA,OAvBA;AAwBA,KA5BA;AA6BA;AACA,IAAA,IA9BA,gBA8BA,EA9BA,EA8BA;AACA,WAAA,OAAA,CAAA,IAAA,iBAAA,EAAA;AACA,KAhCA;AAiCA;AACA,IAAA,SAlCA,qBAkCA,EAlCA,EAkCA;AAAA;;AACA,MAAA,KAAA,CAAA;AACA,QAAA,GAAA,EAAA,gCADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA;AACA,UAAA,EAAA,EAAA;AADA;AAHA,OAAA,CAAA,CAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,GAAA,CADA,CAEA;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,QAAA,GAAA,GAAA;AACA,OAVA;AAWA;AA9CA;AAlBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"songs-container\">\r\n    <div class=\"tab-bar\">\r\n      <span class=\"item\" @click=\"tag = 0\" :class=\"{ active: tag == '0' }\"\r\n        >全部</span\r\n      >\r\n      <span class=\"item\" @click=\"tag = 7\" :class=\"{ active: tag == '7' }\"\r\n        >华语</span\r\n      >\r\n      <span class=\"item\" @click=\"tag = 96\" :class=\"{ active: tag == '96' }\"\r\n        >欧美</span\r\n      >\r\n      <span class=\"item\" @click=\"tag = 8\" :class=\"{ active: tag == '8' }\"\r\n        >日本</span\r\n      >\r\n      <span class=\"item\" @click=\"tag = 16\" :class=\"{ active: tag == '16' }\"\r\n        >韩国</span\r\n      >\r\n    </div>\r\n    <!-- 底部的table -->\r\n    <table class=\"el-table playlit-table\">\r\n      <thead>\r\n        <th></th>\r\n        <th></th>\r\n        <th>音乐标题</th>\r\n        <th>歌手</th>\r\n        <th>专辑</th>\r\n        <th>时长</th>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item, index) in lists\" :key=\"index\" class=\"el-table__row\">\r\n          <td>{{ index + 1 }}</td>\r\n          <td>\r\n            <div class=\"img-wrap\">\r\n              <img :src=\"item.album.picUrl\" alt=\"\" />\r\n              <!-- 播放按钮 -->\r\n              <span\r\n                @click=\"playMusic(item.id)\"\r\n                class=\"iconfont icon-play\"\r\n              ></span>\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <div class=\"song-wrap\">\r\n              <div class=\"name-wrap\">\r\n                <span>{{ item.name }}</span>\r\n                <span\r\n                  class=\"iconfont icon-mv\"\r\n                  v-if=\"item.mvid !== 0\"\r\n                  @click=\"toMV(item.mvid)\"\r\n                ></span>\r\n              </div>\r\n              <span>{{ item.album.name }}</span>\r\n            </div>\r\n          </td>\r\n          <td>{{ item.album.artists[0].name }}</td>\r\n          <td>{{ item.name }}</td>\r\n          <td>{{ item.duration }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"songs\",\r\n  data() {\r\n    return {\r\n      //歌曲列表\r\n      lists: [],\r\n      //分类切换\r\n      tag: \"0\",\r\n    };\r\n  },\r\n  watch: {\r\n    tag() {\r\n      this.getList();\r\n    },\r\n  },\r\n  created() {\r\n    this.getList();\r\n  },\r\n  methods: {\r\n    //获取列表数据\r\n    getList() {\r\n      //获取 最新音乐数据\r\n      axios({\r\n        url: \"https://autumnfish.cn/top/song\",\r\n        method: \"get\",\r\n        //传递 设置的数据\r\n        params: {\r\n          type: this.tag,\r\n        },\r\n      }).then((res) => {\r\n        this.lists = res.data.data;\r\n        //处理时长 毫秒 转为 分秒\r\n        for (let i = 0; i < this.lists.length; i++) {\r\n          //获取总毫秒\r\n          let duration = this.lists[i].duration;\r\n          let min = parseInt(duration / 1000 / 60);\r\n          if (min < 10) {\r\n            min = \"0\" + min;\r\n          }\r\n          let sec = parseInt((duration / 1000) % 60);\r\n          if (sec < 10) {\r\n            sec = \"0\" + sec;\r\n          }\r\n          this.lists[i].duration = `${min}:${sec}`;\r\n        }\r\n      });\r\n    },\r\n    // 去mv详情页\r\n    toMV(id) {\r\n      this.$router.push(`/mv?q=${id}`);\r\n    },\r\n    //播放歌曲\r\n    playMusic(id) {\r\n      axios({\r\n        url: \"https://autumnfish.cn/song/url\",\r\n        method: \"get\",\r\n        params: {\r\n          id,\r\n        },\r\n      }).then((res) => {\r\n        let url = res.data.data[0].url;\r\n        //直接获取父组件，可以修改任意的值\r\n        this.$parent.musicUrl = url;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style >\r\n</style>\r\n"],"sourceRoot":"src/views"}]}