{"remainingRequest":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Vue\\vue进阶\\2\\player\\src\\views\\05.result.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Vue\\vue进阶\\2\\player\\src\\views\\05.result.vue","mtime":1603682603850},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJyZXN1bHQiLA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBhY3RpdmVJbmRleDogInNvbmdzIiwNCiAgICAgICAgICAgIC8v5L+d5a2Y5p+l6K+i5q2M5puyDQogICAgICAgICAgICBzb25nTGlzdDogW10sDQogICAgICAgICAgICAvL+S/neWtmOatjOWNlQ0KICAgICAgICAgICAgcGxheWxpc3RzOiBbXSwNCiAgICAgICAgICAgIC8v5L+d5a2YTVYNCiAgICAgICAgICAgIG12OiBbXSwNCiAgICAgICAgICAgIC8v5pCc57Si57uT5p6cDQogICAgICAgICAgICBjb3VudDogMCwNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIGF4aW9zKHsNCiAgICAgICAgICAgIHVybDogIiBodHRwczovL2F1dHVtbmZpc2guY24vc2VhcmNoIiwNCiAgICAgICAgICAgIG1ldGhvZDogImdldCIsDQogICAgICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICAgICAgICBrZXl3b3JkczogdGhpcy4kcm91dGUucXVlcnkucSwNCiAgICAgICAgICAgICAgICB0eXBlOiAxLA0KICAgICAgICAgICAgICAgIGxpbWl0OiAxMCwNCiAgICAgICAgICAgIH0sDQogICAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQ0KICAgICAgICAgICAgdGhpcy5zb25nTGlzdCA9IHJlcy5kYXRhLnJlc3VsdC5zb25nczsNCiAgICAgICAgICAgIC8v6K6h566X5q2M5puy5pe26Ze0DQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc29uZ0xpc3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICBsZXQgbWluID0gcGFyc2VJbnQodGhpcy5zb25nTGlzdFtpXS5kdXJhdGlvbiAvIDEwMDAgLyA2MCk7DQogICAgICAgICAgICAgICAgbGV0IHNlYyA9IHBhcnNlSW50KCh0aGlzLnNvbmdMaXN0W2ldLmR1cmF0aW9uIC8gMTAwMCkgJSA2MCk7DQogICAgICAgICAgICAgICAgaWYgKG1pbiA8IDEwKSB7DQogICAgICAgICAgICAgICAgICAgIG1pbiA9ICIwIiArIG1pbjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHNlYyA8IDEwKSB7DQogICAgICAgICAgICAgICAgICAgIHNlYyA9ICIwIiArIHNlYzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5zb25nTGlzdFtpXS5kdXJhdGlvbiA9IG1pbiArICI6IiArIHNlYzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v5L+d5a2Y5oC75pWwDQogICAgICAgICAgICB0aGlzLmNvdW50ID0gcmVzLmRhdGEucmVzdWx0LnNvbmdDb3VudDsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgICBhY3RpdmVJbmRleCgpIHsNCiAgICAgICAgICAgIC8vc29uZ3Mg5q2M5puyDQogICAgICAgICAgICAvL2xpc3RzIOatjOWNlQ0KICAgICAgICAgICAgLy9tdiAgbXYNCiAgICAgICAgICAgIGxldCB0eXBlID0gMTsNCiAgICAgICAgICAgIGxldCBsaW1pdCA9IDEwDQogICAgICAgICAgICBzd2l0Y2ggKHRoaXMuYWN0aXZlSW5kZXgpIHsNCiAgICAgICAgICAgICAgICBjYXNlICJzb25ncyI6DQogICAgICAgICAgICAgICAgICAgIHR5cGUgPSAxOw0KICAgICAgICAgICAgICAgICAgICBsaW1pdCA9IDEwOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICJsaXN0cyI6DQogICAgICAgICAgICAgICAgICAgIHR5cGUgPSAxMDAwOw0KICAgICAgICAgICAgICAgICAgICBsaW1pdCA9IDEwOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICJtdiI6DQogICAgICAgICAgICAgICAgICAgIHR5cGUgPSAxMDA0Ow0KICAgICAgICAgICAgICAgICAgICBsaW1pdCA9IDg7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYXhpb3Moew0KICAgICAgICAgICAgICAgIHVybDogIiBodHRwczovL2F1dHVtbmZpc2guY24vc2VhcmNoIiwNCiAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLA0KICAgICAgICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgICAgICAgICBrZXl3b3JkczogdGhpcy4kcm91dGUucXVlcnkucSwNCiAgICAgICAgICAgICAgICAgICAgdHlwZSwNCiAgICAgICAgICAgICAgICAgICAgbGltaXQsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc29uZ0xpc3QgPSByZXMuZGF0YS5yZXN1bHQuc29uZ3M7DQogICAgICAgICAgICAgICAgICAgIC8v6K6h566X5q2M5puy5pe26Ze0DQogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zb25nTGlzdC5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pbiA9IHBhcnNlSW50KHRoaXMuc29uZ0xpc3RbaV0uZHVyYXRpb24gLyAxMDAwIC8gNjApOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlYyA9IHBhcnNlSW50KCh0aGlzLnNvbmdMaXN0W2ldLmR1cmF0aW9uIC8gMTAwMCkgJSA2MCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWluIDwgMTApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSAiMCIgKyBtaW47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VjIDwgMTApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMgPSAiMCIgKyBzZWM7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvbmdMaXN0W2ldLmR1cmF0aW9uID0gbWluICsgIjoiICsgc2VjOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8v5L+d5a2Y5oC75pWwDQogICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSByZXMuZGF0YS5yZXN1bHQuc29uZ0NvdW50Ow0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAxMDAwKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5q2M5Y2V55qE6YC76L6RDQogICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWxpc3RzID0gcmVzLmRhdGEucmVzdWx0LnBsYXlsaXN0cw0KICAgICAgICAgICAgICAgICAgICAvL+aAu+aVsA0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gcmVzLmRhdGEucmVzdWx0LnBsYXlsaXN0Q291bnQNCiAgICAgICAgICAgICAgICAgICAgLy/lpITnkIbmkq3mlL7mrKHmlbANCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBsYXlsaXN0cy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWxpc3RzW2ldLnBsYXlDb3VudCA+IDEwMDAwMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWxpc3RzW2ldLnBsYXlDb3VudCA9IHBhcnNlSW50KHRoaXMucGxheWxpc3RzW2ldLnBsYXlDb3VudCAvIDEwMDAwKSArICfkuIcnDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAvL+S/neWtmE1WDQogICAgICAgICAgICAgICAgICAgIHRoaXMubXYgPSByZXMuZGF0YS5yZXN1bHQubXZzDQogICAgICAgICAgICAgICAgICAgIC8v5oC75pWwDQogICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSByZXMuZGF0YS5yZXN1bHQubXZDb3VudA0KICAgICAgICAgICAgICAgICAgICAvL+WkhOeQhuaVsOaNrg0KICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubXYubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v5pe26Ze0DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWluID0gcGFyc2VJbnQodGhpcy5tdltpXS5kdXJhdGlvbiAvIDEwMDAgLyA2MCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWMgPSBwYXJzZUludCh0aGlzLm12W2ldLmR1cmF0aW9uIC8gMTAwMCAlIDYwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pbiA8IDEwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gJzAnICsgbWluDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VjIDwgMTApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMgPSAnMCcgKyBzZWMNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubXZbaV0uZHVyYXRpb24gPSBtaW4gKyAnOicgKyBzZWMNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v5pKt5pS+5qyh5pWwDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tdltpXS5wbGF5Q291bnQgPiAxMDAwMDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm12W2ldLnBsYXlDb3VudCA9IHBhcnNlSW50KHRoaXMubXZbaV0ucGxheUNvdW50IC8gMTAwMDApICsgJ+S4hycNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC8v5Y67TVbpobUNCiAgICAgICAgdG9NVihpZCl7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL212P3E9JHtpZH1gKQ0KICAgICAgICB9LA0KICAgICAgICAvL+WOu+atjOWNleivpuaDhemhtQ0KICAgICAgICB0b1BsYXlsaXN0KGlkKSB7DQogICAgICAgICAgICAvL+i3s+i9rOW5tuaQuuW4puaVsOaNruWNs+WPrw0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9wbGF5bGlzdD9xPSR7aWR9YCkNCiAgICAgICAgfSwNCg0KICAgICAgICBwbGF5TXVzaWMoaWQpIHsNCg0KICAgICAgICAgICAgYXhpb3Moew0KICAgICAgICAgICAgICAgIHVybDogImh0dHBzOi8vYXV0dW1uZmlzaC5jbi9zb25nL3VybCIsDQogICAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwNCiAgICAgICAgICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgICAgICAgICBsZXQgdXJsID0gcmVzLmRhdGEuZGF0YVswXS51cmw7DQogICAgICAgICAgICAgICAgLy/orr7nva7nu5nniLbnu4Tku7bnmoTmkq3mlL7lnLDlnYANCiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQubXVzaWNVcmwgPSB1cmw7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICB9LA0KfTsNCg=="},{"version":3,"sources":["05.result.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"05.result.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div class=\"result-container\">\r\n    <div class=\"title-wrap\">\r\n        <h2 class=\"title\">{{ $route.query.q }}</h2>\r\n        <span class=\"sub-title\">找到{{ count }}个结果</span>\r\n    </div>\r\n    <el-tabs v-model=\"activeIndex\">\r\n        <el-tab-pane label=\"歌曲\" name=\"songs\">\r\n            <table class=\"el-table\">\r\n                <thead>\r\n                    <th></th>\r\n                    <th>音乐标题</th>\r\n                    <th>歌手</th>\r\n                    <th>专辑</th>\r\n                    <th>时长</th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr @dblclick=\"playMusic(item.id)\" v-for=\"(item, index) in songList\" :key=\"index\" class=\"el-table__row\">\r\n                        <td>{{ index + 1 }}</td>\r\n                        <td>\r\n                            <div class=\"song-wrap\">\r\n                                <div class=\"name-wrap\">\r\n                                    <span>{{ item.name }}</span>\r\n                                    <span v-if=\"item.mvid != 0\" class=\"iconfont icon-mv\"></span>\r\n                                </div>\r\n                                <span v-if=\"item.alias.length != 0\">{{ item.alias[0] }}</span>\r\n                            </div>\r\n                        </td>\r\n                        <td>{{ item.artists[0].name }}</td>\r\n                        <td>{{ item.album.name }}</td>\r\n                        <td>{{ item.duration }}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"歌单\" name=\"lists\">\r\n            <div class=\"items\">\r\n                <div class=\"item\" v-for=\"(item,index) in playlists\" :key=\"index\" @click=\"toPlaylist(item.id)\">\r\n                    <div class=\"img-wrap\">\r\n                        <div class=\"num-wrap\">\r\n                            播放量:\r\n                            <span class=\"num\">{{item.playCount}}</span>\r\n                        </div>\r\n                        <img :src=\"item.coverImgUrl\" alt=\"\" />\r\n                        <span class=\"iconfont icon-play\"></span>\r\n                    </div>\r\n                    <p class=\"name\">{{item.name}}</p>\r\n                </div>\r\n\r\n            </div>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"MV\" name=\"mv\">\r\n            <div class=\"items mv\">\r\n                <div class=\"item\" v-for=\"(item,index) in mv\" :key=\"index\" @click=\"toMV(item.id)\">\r\n                    <div class=\"img-wrap\">\r\n                        <!-- 封面 -->\r\n                        <img :src=\"item.cover\" alt=\"\" />\r\n                        <span class=\"iconfont icon-play\"></span>\r\n                        <div class=\"num-wrap\">\r\n                            <div class=\"iconfont icon-play\"></div>\r\n                            <!-- 播放次数 -->\r\n                            <div class=\"num\">{{item.playCount}}</div>\r\n                        </div>\r\n                        <!-- 时长 -->\r\n                        <span class=\"time\">{{item.duration}}</span>\r\n                    </div>\r\n                    <div class=\"info-wrap\">\r\n                        <!-- MV名和人名 -->\r\n                        <div class=\"name\">{{item.name}}</div>\r\n                        <div class=\"singer\">{{item.artistName}}</div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </el-tab-pane>\r\n    </el-tabs>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n    name: \"result\",\r\n    data() {\r\n        return {\r\n            activeIndex: \"songs\",\r\n            //保存查询歌曲\r\n            songList: [],\r\n            //保存歌单\r\n            playlists: [],\r\n            //保存MV\r\n            mv: [],\r\n            //搜索结果\r\n            count: 0,\r\n        };\r\n    },\r\n    created() {\r\n        axios({\r\n            url: \" https://autumnfish.cn/search\",\r\n            method: \"get\",\r\n            params: {\r\n                keywords: this.$route.query.q,\r\n                type: 1,\r\n                limit: 10,\r\n            },\r\n        }).then((res) => {\r\n            // console.log(res)\r\n            this.songList = res.data.result.songs;\r\n            //计算歌曲时间\r\n            for (let i = 0; i < this.songList.length; i++) {\r\n                let min = parseInt(this.songList[i].duration / 1000 / 60);\r\n                let sec = parseInt((this.songList[i].duration / 1000) % 60);\r\n                if (min < 10) {\r\n                    min = \"0\" + min;\r\n                }\r\n                if (sec < 10) {\r\n                    sec = \"0\" + sec;\r\n                }\r\n                this.songList[i].duration = min + \":\" + sec;\r\n            }\r\n            //保存总数\r\n            this.count = res.data.result.songCount;\r\n        });\r\n    },\r\n    watch: {\r\n        activeIndex() {\r\n            //songs 歌曲\r\n            //lists 歌单\r\n            //mv  mv\r\n            let type = 1;\r\n            let limit = 10\r\n            switch (this.activeIndex) {\r\n                case \"songs\":\r\n                    type = 1;\r\n                    limit = 10;\r\n                    break;\r\n                case \"lists\":\r\n                    type = 1000;\r\n                    limit = 10;\r\n                    break;\r\n                case \"mv\":\r\n                    type = 1004;\r\n                    limit = 8;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            axios({\r\n                url: \" https://autumnfish.cn/search\",\r\n                method: \"get\",\r\n                params: {\r\n                    keywords: this.$route.query.q,\r\n                    type,\r\n                    limit,\r\n                },\r\n            }).then((res) => {\r\n                // console.log(res)\r\n                if (type == 1) {\r\n                    this.songList = res.data.result.songs;\r\n                    //计算歌曲时间\r\n                    for (let i = 0; i < this.songList.length; i++) {\r\n                        let min = parseInt(this.songList[i].duration / 1000 / 60);\r\n                        let sec = parseInt((this.songList[i].duration / 1000) % 60);\r\n                        if (min < 10) {\r\n                            min = \"0\" + min;\r\n                        }\r\n                        if (sec < 10) {\r\n                            sec = \"0\" + sec;\r\n                        }\r\n                        this.songList[i].duration = min + \":\" + sec;\r\n                    }\r\n                    //保存总数\r\n                    this.count = res.data.result.songCount;\r\n                } else if (type == 1000) {\r\n                    //歌单的逻辑\r\n                    this.playlists = res.data.result.playlists\r\n                    //总数\r\n                    this.count = res.data.result.playlistCount\r\n                    //处理播放次数\r\n                    for (let i = 0; i < this.playlists.length; i++) {\r\n                        if (this.playlists[i].playCount > 100000) {\r\n                            this.playlists[i].playCount = parseInt(this.playlists[i].playCount / 10000) + '万'\r\n                        }\r\n                    }\r\n                } else {\r\n                    //保存MV\r\n                    this.mv = res.data.result.mvs\r\n                    //总数\r\n                    this.count = res.data.result.mvCount\r\n                    //处理数据\r\n                    for (let i = 0; i < this.mv.length; i++) {\r\n                        //时间\r\n                        let min = parseInt(this.mv[i].duration / 1000 / 60)\r\n                        let sec = parseInt(this.mv[i].duration / 1000 % 60)\r\n                        if (min < 10) {\r\n                            min = '0' + min\r\n                        }\r\n                        if (sec < 10) {\r\n                            sec = '0' + sec\r\n                        }\r\n                        this.mv[i].duration = min + ':' + sec\r\n                        //播放次数\r\n                        if (this.mv[i].playCount > 100000) {\r\n                            this.mv[i].playCount = parseInt(this.mv[i].playCount / 10000) + '万'\r\n                        }\r\n                    }\r\n                }\r\n\r\n            });\r\n        },\r\n    },\r\n    methods: {\r\n        //去MV页\r\n        toMV(id){\r\n            this.$router.push(`/mv?q=${id}`)\r\n        },\r\n        //去歌单详情页\r\n        toPlaylist(id) {\r\n            //跳转并携带数据即可\r\n            this.$router.push(`/playlist?q=${id}`)\r\n        },\r\n\r\n        playMusic(id) {\r\n\r\n            axios({\r\n                url: \"https://autumnfish.cn/song/url\",\r\n                method: \"get\",\r\n                params: {\r\n                    id,\r\n                },\r\n            }).then((res) => {\r\n                // console.log(res)\r\n                let url = res.data.data[0].url;\r\n                //设置给父组件的播放地址\r\n                this.$parent.musicUrl = url;\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style >\r\n</style>\r\n"]}]}