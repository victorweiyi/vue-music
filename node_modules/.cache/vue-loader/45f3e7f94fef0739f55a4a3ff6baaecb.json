{"remainingRequest":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Vue\\vue进阶\\2\\player\\src\\views\\01.discovery.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Vue\\vue进阶\\2\\player\\src\\views\\01.discovery.vue","mtime":1602493385324},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL+WvvOWFpSBheGlvcw0KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsNCmltcG9ydCBBeGlvcyBmcm9tICdheGlvcyc7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJkaXNjb3ZlcnkiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvL+i9ruaSreWbvg0KICAgICAgYmFubmVyczogW10sDQogICAgICAvL+aOqOiNkOatjOWNlQ0KICAgICAgbGlzdDogW10sDQogICAgICAvL+acgOaWsOmfs+S5kA0KICAgICAgc29uZ3M6W10sDQogICAgICAvL01WDQogICAgICBtdnM6W10NCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KDQogICAgLy8gY29uc29sZS5sb2coJ2NyZWF0ZWQnKQ0KICAgIC8v6L2u5pKt5Zu+5o6l5Y+jDQogICAgYXhpb3Moew0KICAgICAgdXJsOiAiaHR0cHM6Ly9hdXR1bW5maXNoLmNuL2Jhbm5lciIsDQogICAgICBtZXRob2RzOiAiZ2V0IiwNCiAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgIHRoaXMuYmFubmVycyA9IHJlcy5kYXRhLmJhbm5lcnM7DQogICAgfSksDQogICAgICAvL+aOqOiNkOatjOWNleaOpeWPow0KICAgICAgYXhpb3Moew0KICAgICAgICB1cmw6ICJodHRwczovL2F1dHVtbmZpc2guY24vcGVyc29uYWxpemVkIiwNCiAgICAgICAgbWV0aG9kczogImdldCIsDQogICAgICAgIHBhcmFtczogew0KICAgICAgICAgIC8v6I635Y+W55qE5pWw5o2u6YePDQogICAgICAgICAgbGltaXQ6IDEwLA0KICAgICAgICB9LA0KICAgICAgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMubGlzdCA9IHJlcy5kYXRhLnJlc3VsdDsNCiAgICAgIH0pOw0KICAgICAgLy/mnIDmlrDpn7PkuZDmjqXlj6MNCiAgICBheGlvcyh7DQogICAgICB1cmw6ICJodHRwczovL2F1dHVtbmZpc2guY24vcGVyc29uYWxpemVkL25ld3NvbmciLA0KICAgICAgbWV0aG9kczogImdldCIsDQogICAgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAvLyBjb25zb2xlLmxvZyhyZXMpDQogICAgICB0aGlzLnNvbmdzPXJlcy5kYXRhLnJlc3VsdA0KICAgIH0pOw0KICAgIGF4aW9zKHsNCiAgICAgIHVybDoiaHR0cHM6Ly9hdXR1bW5maXNoLmNuL3BlcnNvbmFsaXplZC9tdiIsDQogICAgICBtZXRob2Q6J2dldCcsDQogICAgfSkudGhlbihyZXM9PnsNCiAgICAgIC8vICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgdGhpcy5tdnM9IC5kYXRhLnJlc3VsdA0KICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBwbGF5TXVzaWMoaWQpew0KICAgICAgYXhpb3Moew0KICAgICAgICB1cmw6Imh0dHBzOi8vYXV0dW1uZmlzaC5jbi9zb25nL3VybCIsDQogICAgICAgIG1ldGhvZDonZ2V0JywNCiAgICAgICAgcGFyYW1zOnsNCiAgICAgICAgICBpZA0KICAgICAgICB9DQogICAgICB9KS50aGVuKHJlcz0+ew0KICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgIGxldCB1cmwgPSByZXMuZGF0YS5kYXRhWzBdLnVybA0KICAgICAgICAvL+iuvue9rue7meeItue7hOS7tueahOaSreaUvuWcsOWdgA0KICAgICAgICB0aGlzLiRwYXJlbnQubXVzaWNVcmwgPSB1cmwNCiAgICAgIH0pDQogICAgfQ0KICB9LA0KfTsNCg=="},{"version":3,"sources":["01.discovery.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"01.discovery.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"discovery-container\">\r\n    <!-- 轮播图 -->\r\n    <el-carousel class=\"\" :interval=\"4000\" type=\"card\">\r\n      <!-- 循环获取到的接口数据 -->\r\n      <el-carousel-item v-for=\"(item, index) in banners\" :key=\"index\">\r\n        <img :src=\"item.imageUrl\" alt=\"\" />\r\n      </el-carousel-item>\r\n    </el-carousel>\r\n    <!-- 推荐歌单 -->\r\n    <div class=\"recommend\">\r\n      <h3 class=\"title\">推荐歌单</h3>\r\n      <div class=\"items\">\r\n        <div class=\"item\" v-for=\"(item, index) in list\" :key=\"index\">\r\n          <div class=\"img-wrap\">\r\n            <div class=\"desc-wrap\">\r\n              <span class=\"desc\">{{ item.copywriter }}</span>\r\n            </div>\r\n            <img :src=\"item.picUrl\" alt=\"\" />\r\n            <span class=\"iconfont icon-play\"></span>\r\n          </div>\r\n          <p class=\"name\">{{ item.name }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 最新音乐 -->\r\n    <div class=\"news\">\r\n      <h3 class=\"title\">最新音乐</h3>\r\n      <div class=\"items\">\r\n        <div class=\"item\" v-for=\"(item,index) in songs\" :key=\"index\">\r\n          <div class=\"img-wrap\">\r\n            <img :src=\"item.picUrl\" alt=\"\" />\r\n            <span @click=\"playMusic(item.id)\" class=\"iconfont icon-play\"></span>\r\n          </div>\r\n          <div class=\"song-wrap\">\r\n            <div class=\"song-name\">{{item.name}}</div>\r\n            <div class=\"singer\">{{item.song.artists[0].name}}</div>\r\n          </div>\r\n        </div>\r\n       \r\n      </div>\r\n    </div>\r\n    <!-- 推荐MV -->\r\n    <div class=\"mvs\">\r\n      <h3 class=\"title\">推荐MV</h3>\r\n      <div class=\"items\">\r\n        <div class=\"item\" v-for=\"(item,index) in mvs\" :key=\"index\">\r\n          <div class=\"img-wrap\">\r\n            <img :src=\"item.picUrl\" alt=\"\" />\r\n            <span class=\"iconfont icon-play\"></span>\r\n            <div class=\"num-wrap\">\r\n              <div class=\"iconfont icon-play\"></div>\r\n              <!-- 播放次数 -->\r\n              <div class=\"num\">{{item.playCount}}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"info-wrap\">\r\n            <!-- mv名和歌手名 -->\r\n            <div class=\"name\">{{item.name}}</div>\r\n            <div class=\"singer\">{{item.artistsName}}</div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//导入 axios\r\nimport axios from \"axios\";\r\nimport Axios from 'axios';\r\nexport default {\r\n  name: \"discovery\",\r\n  data() {\r\n    return {\r\n      //轮播图\r\n      banners: [],\r\n      //推荐歌单\r\n      list: [],\r\n      //最新音乐\r\n      songs:[],\r\n      //MV\r\n      mvs:[]\r\n    };\r\n  },\r\n  created() {\r\n\r\n    // console.log('created')\r\n    //轮播图接口\r\n    axios({\r\n      url: \"https://autumnfish.cn/banner\",\r\n      methods: \"get\",\r\n    }).then((res) => {\r\n      this.banners = res.data.banners;\r\n    }),\r\n      //推荐歌单接口\r\n      axios({\r\n        url: \"https://autumnfish.cn/personalized\",\r\n        methods: \"get\",\r\n        params: {\r\n          //获取的数据量\r\n          limit: 10,\r\n        },\r\n      }).then((res) => {\r\n        this.list = res.data.result;\r\n      });\r\n      //最新音乐接口\r\n    axios({\r\n      url: \"https://autumnfish.cn/personalized/newsong\",\r\n      methods: \"get\",\r\n    }).then((res) => {\r\n      // console.log(res)\r\n      this.songs=res.data.result\r\n    });\r\n    axios({\r\n      url:\"https://autumnfish.cn/personalized/mv\",\r\n      method:'get',\r\n    }).then(res=>{\r\n      //  console.log(res)\r\n       this.mvs= .data.result\r\n    })\r\n  },\r\n  methods: {\r\n    playMusic(id){\r\n      axios({\r\n        url:\"https://autumnfish.cn/song/url\",\r\n        method:'get',\r\n        params:{\r\n          id\r\n        }\r\n      }).then(res=>{\r\n        // console.log(res)\r\n        let url = res.data.data[0].url\r\n        //设置给父组件的播放地址\r\n        this.$parent.musicUrl = url\r\n      })\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style >\r\n</style>\r\n"]}]}