{"remainingRequest":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Vue\\vue进阶\\2\\player\\src\\views\\04.mvs.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Vue\\vue进阶\\2\\player\\src\\views\\04.mvs.vue","mtime":1603682441969},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue\\vue进阶\\2\\player\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdtdnMnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDmgLvmnaHmlbANCiAgICAgIHRvdGFsOiAyMCwNCiAgICAgIC8vIOmhteeggQ0KICAgICAgcGFnZTogMSwNCiAgICAgIC8vIOmhteWuuemHjw0KICAgICAgbGltaXQ6IDgsDQogICAgICAvL+WcsOWMug0KICAgICAgYXJlYToi5YWo6YOoIiwNCiAgICAgIC8v57G75Z6LDQogICAgICB0eXBlOiLlhajpg6giLA0KICAgICAgLy/mjpLluo8NCiAgICAgIG9yZGVyOiLkuIrljYfmnIDlv6siLA0KICAgICAgLy/mn6Xor6LnmoTnu5PmnpwNCiAgICAgIGxpc3Q6W10NCiAgICB9Ow0KICB9LA0KICB3YXRjaDp7DQogICAgYXJlYSgpew0KICAgICAgdGhpcy5wYWdlPTENCiAgICAgIHRoaXMuZ2V0TGlzdCgpfSwNCiAgICB0eXBlKCl7DQogICAgICB0aGlzLnBhZ2U9MQ0KICAgICAgdGhpcy5nZXRMaXN0KCl9LA0KICAgIG9yZGVyKCl7DQogICAgICB0aGlzLnBhZ2U9MQ0KICAgICAgdGhpcy5nZXRMaXN0KCl9DQogIH0sDQogIGNyZWF0ZWQoKXsNCiAgICB0aGlzLmdldExpc3QoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdG9NdihpZCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9tdj9xPSR7aWR9YCk7DQogICAgfSwNCg0KICAgIC8v6I635Y+W5YiX6KGo5pWw5o2uDQogICAgZ2V0TGlzdCgpew0KICAgIGF4aW9zKHsNCiAgICAgICAgdXJsOidodHRwczovL2F1dHVtbmZpc2guY24vbXYvYWxsJywNCiAgICAgICAgbWV0aG9kOidnZXQnLA0KICAgICAgICBwYXJhbXM6ew0KICAgICAgICAgIGFyZWE6dGhpcy5hcmVhLA0KICAgICAgICAgIHR5cGU6dGhpcy50eXBlLA0KICAgICAgICAgIG9yZGVyOnRoaXMub3JkZXIsDQogICAgICAgICAgLy/mlbDph48NCiAgICAgICAgICBsaW1pdDp0aGlzLmxpbWl0LA0KICAgICAgICAgIC8v5YGP56e75YC8IOWIhumhte+8iOmhteeggS0x77yJKuaVsOmHjw0KICAgICAgICAgIG9mZnNldDoodGhpcy5wYWdlLTEpKnRoaXMubGltaXQNCiAgICAgICAgfQ0KICAgICAgfSkudGhlbihyZXM9PnsNCiAgICAgICAgdGhpcy5saXN0ID1yZXMuZGF0YS5kYXRhDQoNCiAgICAgICAgLy/lpITnkIbmrKHmlbANCiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmxpc3QubGVuZ3RoO2krKyl7DQogICAgICAgICAgaWYodGhpcy5saXN0W2ldLnBsYXlDb3VudD4xMDAwMDApew0KICAgICAgICAgICAgdGhpcy5saXN0W2ldLnBsYXlDb3VudCA9IHBhcnNlSW50KHRoaXMubGlzdFtpXS5wbGF5Q291bnQvMTAwMDApICsgJ+S4hycNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy/mjqXlj6Ppl67popgNCiAgICAgICAgaWYocmVzLmRhdGEuY291bnQpew0KICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudA0KICAgICAgICB9DQogICAgICAgIC8v5L+d5a2Y5oC75p2h5pWwDQogICAgICAgIC8vIHRoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudA0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v6aG156CB5pS55Y+Y55qE5Zue6LCD5Ye95pWwDQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApOw0KICAgICAgdGhpcy5wYWdlID0gdmFsDQogICAgICB0aGlzLmdldExpc3QoKQ0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["04.mvs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"04.mvs.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"mvs-container\">\r\n    <div class=\"filter-wrap\">\r\n      <div class=\"seciton-wrap\">\r\n        <!-- 分类切换 地区 -->\r\n        <span class=\"section-type\">地区:</span>\r\n        <ul class=\"tabs-wrap\">\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:area=='全部'}\" @click=\"area='全部'\">全部</span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:area=='内地'}\" @click=\"area='内地'\">内地</span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:area=='港台'}\" @click=\"area='港台'\">港台</span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:area=='欧美'}\" @click=\"area='欧美'\">欧美</span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:area=='日本'}\" @click=\"area='日本'\">日本</span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:area=='韩国'}\" @click=\"area='韩国'\">韩国</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"type-wrap\">\r\n        <span class=\"type-type\">类型:</span>\r\n        <ul class=\"tabs-wrap\">\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:type=='全部'}\" @click=\"type='全部'\">全部</span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:type=='官方版'}\" @click=\"type='官方版'\">官方版</span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:type=='原声'}\" @click=\"type='原声'\">原声</span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:type=='现场版'}\" @click=\"type='现场版'\">现场版</span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:type=='网易出品'}\" @click=\"type='网易出品'\">网易出品</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"order-wrap\">\r\n        <span class=\"order-type\">排序:</span>\r\n        <ul class=\"tabs-wrap\">\r\n          <li class=\"tab\">\r\n            <span class=\"title \" :class=\"{active:order=='上升最快'}\" @click=\"order='上升最快'\">上升最快</span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:order=='最热'}\" @click=\"order='最热'\">最热</span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span class=\"title\" :class=\"{active:order=='最新'}\" @click=\"order='最新'\">最新</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <!-- mv容器 -->\r\n    <!-- 推荐MV -->\r\n    <div class=\"mvs\">\r\n      <div class=\"items\">\r\n        <div class=\"item\" @click=\"toMv(10)\" v-for=\"(item,index) in list\" :key=\"index\">\r\n          <div class=\"img-wrap\">\r\n            <img :src=\"item.cover\" alt=\"\" />\r\n            <div class=\"num-wrap\">\r\n              <div class=\"iconfont icon-play\" @click=\"toMV(item.id)\"></div>\r\n              <div class=\"num\">{{item.playCount}}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"info-wrap\">\r\n            <div class=\"name\">{{item.name}}</div>\r\n            <div class=\"singer\">{{item.artistsName}}</div>\r\n          </div>\r\n        </div>\r\n   \r\n      </div>\r\n      <!-- 分页器 -->\r\n      <el-pagination\r\n        @current-change=\"handleCurrentChange\"\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"total\"\r\n        :current-page=\"page\"\r\n        :page-size=\"5\"\r\n        :limit=\"limit\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'mvs',\r\n  data() {\r\n    return {\r\n      // 总条数\r\n      total: 20,\r\n      // 页码\r\n      page: 1,\r\n      // 页容量\r\n      limit: 8,\r\n      //地区\r\n      area:\"全部\",\r\n      //类型\r\n      type:\"全部\",\r\n      //排序\r\n      order:\"上升最快\",\r\n      //查询的结果\r\n      list:[]\r\n    };\r\n  },\r\n  watch:{\r\n    area(){\r\n      this.page=1\r\n      this.getList()},\r\n    type(){\r\n      this.page=1\r\n      this.getList()},\r\n    order(){\r\n      this.page=1\r\n      this.getList()}\r\n  },\r\n  created(){\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    toMv(id) {\r\n      this.$router.push(`/mv?q=${id}`);\r\n    },\r\n\r\n    //获取列表数据\r\n    getList(){\r\n    axios({\r\n        url:'https://autumnfish.cn/mv/all',\r\n        method:'get',\r\n        params:{\r\n          area:this.area,\r\n          type:this.type,\r\n          order:this.order,\r\n          //数量\r\n          limit:this.limit,\r\n          //偏移值 分页（页码-1）*数量\r\n          offset:(this.page-1)*this.limit\r\n        }\r\n      }).then(res=>{\r\n        this.list =res.data.data\r\n\r\n        //处理次数\r\n        for(let i=0;i<this.list.length;i++){\r\n          if(this.list[i].playCount>100000){\r\n            this.list[i].playCount = parseInt(this.list[i].playCount/10000) + '万'\r\n          }\r\n        }\r\n        //接口问题\r\n        if(res.data.count){\r\n          this.total = res.data.count\r\n        }\r\n        //保存总条数\r\n        // this.total = res.data.count\r\n      })\r\n    },\r\n    //页码改变的回调函数\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页: ${val}`);\r\n      this.page = val\r\n      this.getList()\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style >\r\n\r\n</style>\r\n"]}]}